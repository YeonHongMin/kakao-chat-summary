# 02. Technical Requirements Document (TRD)

## 1. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        app.py (ë©”ì¸ ì§„ì…ì )                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  ui/main_window.py                           â”‚   â”‚
â”‚  â”‚                   (PySide6 GUI)                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ ëŒ€ì‹œë³´ë“œ â”‚  â”‚ë‚ ì§œë³„ìš”ì•½â”‚  â”‚ URL ì •ë³´ â”‚  â”‚ ğŸ”§ ê¸°íƒ€  â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚parser.pyâ”‚  â”‚chat_processâ”‚  â”‚file_storage.pyâ”‚ â”‚url_extrâ”‚ â”‚   â”‚
â”‚  â”‚  â”‚(íŒŒì‹±)   â”‚  â”‚  or.py     â”‚  â”‚(íŒŒì¼ ì €ì¥ì†Œ)  â”‚ â”‚ actor  â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚       â”‚             â”‚                â”‚               â”‚       â”‚   â”‚
â”‚  â”‚       â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”        â”‚               â”‚       â”‚   â”‚
â”‚  â”‚       â”‚      â”‚llm_client.pyâ”‚        â”‚               â”‚       â”‚   â”‚
â”‚  â”‚       â”‚      â”‚(í†µí•© LLM)   â”‚        â”‚               â”‚       â”‚   â”‚
â”‚  â”‚       â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚               â”‚       â”‚   â”‚
â”‚  â”‚       â”‚             â”‚                â”‚               â”‚       â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚                     â”‚                â”‚                       â”‚   â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚              â”‚full_config.pyâ”‚ â”‚db/database.pyâ”‚               â”‚   â”‚
â”‚  â”‚              â”‚(ë‹¤ì¤‘ LLM)   â”‚  â”‚(SQLite ORM) â”‚               â”‚   â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ëª¨ë“ˆ ìƒì„¸

### 2.1 app.py
**ì—­í• **: ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 

```python
# PySide6 ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”
app = QApplication(sys.argv)
window = MainWindow()
window.show()
sys.exit(app.exec())
```

---

### 2.2 ui/main_window.py
**ì—­í• **: ë©”ì¸ GUI ìœˆë„ìš°

**ì£¼ìš” í´ë˜ìŠ¤**:
| í´ë˜ìŠ¤ | ì„¤ëª… |
|--------|------|
| `MainWindow` | ë©”ì¸ ìœˆë„ìš° (íƒ­, ë©”ë‰´, ìƒíƒœë°”) |
| `FileUploadWorker` | íŒŒì¼ ì—…ë¡œë“œ ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ |
| `SyncWorker` | ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™” ì²˜ë¦¬ |
| `SummaryGeneratorWorker` | LLM ìš”ì•½ ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ |
| `RecoveryWorker` | DB ë³µêµ¬ ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ |
| `CreateRoomDialog` | ì±„íŒ…ë°© ìƒì„± ë‹¤ì´ì–¼ë¡œê·¸ |
| `UploadFileDialog` | íŒŒì¼ ì—…ë¡œë“œ ë‹¤ì´ì–¼ë¡œê·¸ |
| `SummaryOptionsDialog` | ìš”ì•½ ì˜µì…˜ ë‹¤ì´ì–¼ë¡œê·¸ |
| `SummaryProgressDialog` | ìš”ì•½ ì§„í–‰ë¥  ë‹¤ì´ì–¼ë¡œê·¸ (ë¯¸ì‚¬ìš©, ë³´ì¡´) |
| `SummaryProgressWidget` | ìƒíƒœë°” ë‚´ì¥ ë¹„ëª¨ë‹¬ í”„ë¡œê·¸ë ˆìŠ¤ ìœ„ì ¯ |
| `DashboardCard` | ëŒ€ì‹œë³´ë“œ í†µê³„ ì¹´ë“œ (ì»´íŒ©íŠ¸, update_card ë©”ì„œë“œ) |
| `SettingsDialog` | ì„¤ì • ë‹¤ì´ì–¼ë¡œê·¸ |

**íƒ­ êµ¬ì¡°**:
1. **ğŸ“Š ëŒ€ì‹œë³´ë“œ**: ì±„íŒ…ë°© í†µê³„, ìµœê·¼ ìš”ì•½
2. **ğŸ“… ë‚ ì§œë³„ ìš”ì•½**: ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜, ìƒì„¸ ìš”ì•½ ë³´ê¸°
3. **ğŸ”— URL ì •ë³´**: ê³µìœ ëœ URL ëª©ë¡, ë™ê¸°í™”/ë³µêµ¬ ë²„íŠ¼
4. **ğŸ”§ ê¸°íƒ€**: í†µê³„ ì •ë³´ ê°±ì‹  ë“±

---

### 2.3 db/database.py
**ì—­í• **: SQLite ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬

**í´ë˜ìŠ¤**: `Database`

**ì£¼ìš” ë©”ì„œë“œ**:
| ë©”ì„œë“œ | ì„¤ëª… |
|--------|------|
| `create_room(name, file_path=None)` | ì±„íŒ…ë°© ìƒì„± |
| `get_all_rooms()` | ì±„íŒ…ë°© ëª©ë¡ (ë©”ì‹œì§€ ìˆ˜ ë‚´ë¦¼ì°¨ìˆœ) |
| `get_room_by_id(room_id)` | ì±„íŒ…ë°© ì¡°íšŒ |
| `get_room_by_name(name)` | ì´ë¦„ìœ¼ë¡œ ì±„íŒ…ë°© ì¡°íšŒ |
| `get_room_stats(room_id)` | ì±„íŒ…ë°© í†µê³„ ì¡°íšŒ |
| `delete_room(room_id)` | ì±„íŒ…ë°© ì‚­ì œ |
| `add_messages(room_id, messages, batch_size=500)` | ë©”ì‹œì§€ ì¼ê´„ ì¶”ê°€ (ì¤‘ë³µ ì²´í¬) |
| `get_messages_by_room(room_id, start_date, end_date)` | ë©”ì‹œì§€ ì¡°íšŒ |
| `get_message_count_by_date(room_id, target_date)` | ë‚ ì§œë³„ ë©”ì‹œì§€ ìˆ˜ |
| `add_summary(room_id, summary_date, summary_type, content, llm_provider)` | ìš”ì•½ ì €ì¥ |
| `get_summaries_by_room(room_id, summary_type)` | ìš”ì•½ ëª©ë¡ ì¡°íšŒ |
| `delete_summary(room_id, summary_date)` | ìš”ì•½ ì‚­ì œ |
| `add_urls_batch(room_id, urls)` | URL ì¼ê´„ ì¶”ê°€ |
| `get_urls_by_room(room_id)` | URL ëª©ë¡ ì¡°íšŒ |
| `clear_urls_by_room(room_id)` | URL ì „ì²´ ì‚­ì œ |

**SQLite ìµœì í™”**:
- WAL ëª¨ë“œ í™œì„±í™”
- `expire_on_commit=False` (ì„¸ì…˜ ì¢…ë£Œ í›„ ORM ê°ì²´ ì†ì„± ì ‘ê·¼ í—ˆìš©)
- ë°°ì¹˜ ì²˜ë¦¬ (500ê°œ ë‹¨ìœ„)
- ì¤‘ë³µ ë©”ì‹œì§€ ì²´í¬

---

### 2.4 db/models.py
**ì—­í• **: SQLAlchemy ORM ëª¨ë¸ ì •ì˜

| ëª¨ë¸ | í…Œì´ë¸” | ì„¤ëª… |
|------|--------|------|
| `ChatRoom` | `chat_rooms` | ì±„íŒ…ë°© ì •ë³´ |
| `Message` | `messages` | ë©”ì‹œì§€ (UniqueConstraint) |
| `Summary` | `summaries` | ë‚ ì§œë³„ ìš”ì•½ |
| `URL` | `urls` | ì¶”ì¶œëœ URL (UniqueConstraint: room_id, url) |
| `SyncLog` | `sync_logs` | ë™ê¸°í™” ë¡œê·¸ |

---

### 2.5 file_storage.py
**ì—­í• **: íŒŒì¼ ê¸°ë°˜ ë°ì´í„° ì €ì¥ (ë°±ì—…/ë³µêµ¬ìš©)

**ì£¼ìš” ë©”ì„œë“œ**:
| ë©”ì„œë“œ | ì„¤ëª… |
|--------|------|
| `save_daily_original(room, date, messages)` | ì›ë³¸ ëŒ€í™” ì €ì¥ |
| `save_daily_summary(room, date, content, llm_provider)` | ìš”ì•½ ì €ì¥ |
| `load_daily_original(room, date)` | ì›ë³¸ ëŒ€í™” ë¡œë“œ |
| `load_daily_summary(room, date)` | ìš”ì•½ ë¡œë“œ |
| `get_available_dates(room)` | ì›ë³¸ ì¡´ì¬ ë‚ ì§œ ëª©ë¡ |
| `get_summarized_dates(room)` | ìš”ì•½ ì¡´ì¬ ë‚ ì§œ ëª©ë¡ |
| `get_dates_needing_summary(room)` | ìš”ì•½ í•„ìš” ë‚ ì§œ (ì‹ ê·œ/ì—…ë°ì´íŠ¸) |
| `get_original_file_size(room, date)` | ì›ë³¸ íŒŒì¼ í¬ê¸° (ë°”ì´íŠ¸) |
| `invalidate_summary_if_file_changed(room, date, old_size, new_size)` | íŒŒì¼ í¬ê¸° ë³€ê²½ ì‹œ ìš”ì•½ ë¬´íš¨í™” |
| `get_all_rooms()` | ëª¨ë“  ì±„íŒ…ë°© ëª©ë¡ (ë””ë ‰í„°ë¦¬ ìŠ¤ìº”) |
| `create_full_backup()` | ì „ì²´ ë°±ì—… (DB + ëª¨ë“  íŒŒì¼) (v2.4.0) |
| `get_backup_list()` | ë°±ì—… ëª©ë¡ ì¡°íšŒ (v2.4.0) |
| `backup_room(room)` | ê°œë³„ ì±„íŒ…ë°© ë°±ì—… (v2.5.0) |
| `get_rooms_in_backup(backup_path)` | ë°±ì—… ë‚´ ì±„íŒ…ë°© ëª©ë¡ (v2.5.0) |
| `restore_from_backup(backup_path, room=None)` | ë°±ì—…ì—ì„œ ë³µì› (v2.5.0) |

---

### 2.6 full_config.py
**ì—­í• **: ì „ì—­ ì„¤ì • ë° ë‹¤ì¤‘ LLM ì œê³µì ê´€ë¦¬

**LLM ì œê³µì ì„¤ì •**:
| Provider | API URL | Model | í™˜ê²½ë³€ìˆ˜ |
|----------|---------|-------|----------|
| glm | .../api/coding/paas/v4/chat/completions | glm-4.7 | ZAI_API_KEY |
| chatgpt | .../v1/chat/completions | gpt-4o-mini | OPENAI_API_KEY |
| minimax | .../v1/chat/completions | MiniMax-M2.1 | MINIMAX_API_KEY |
| perplexity | .../chat/completions | sonar | PERPLEXITY_API_KEY |

**í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ**:
- `.env.local` (ìš°ì„ ìˆœìœ„ ë†’ìŒ)
- `.env`

---

### 2.7 llm_client.py
**ì—­í• **: í†µí•© LLM API í´ë¼ì´ì–¸íŠ¸

**í´ë˜ìŠ¤**: `LLMClient`

**ì£¼ìš” ê¸°ëŠ¥**:
- ìŠ¤íŠ¸ë¦¬ë° ëª¨ë“œ (`stream=True`)
- max_tokens: 16000
- íƒ€ì„ì•„ì›ƒ: (60, 600) ì—°ê²°/ì½ê¸°
- ChatGPT Rate Limit ëŒ€ê¸°: 21ì´ˆ (`CHATGPT_RATE_LIMIT_DELAY`)

**ì‘ë‹µ ì™„ê²°ì„± ê²€ì¦** (`_validate_response_content`):
| ê²€ì¦ í•­ëª© | ì„¤ëª… |
|-----------|------|
| `finish_reason` | `length`ë©´ ì‹¤íŒ¨ ì²˜ë¦¬ |
| ìµœì†Œ ê¸¸ì´ | 100ì ë¯¸ë§Œ ì‹¤íŒ¨ |
| í•„ìˆ˜ ì„¹ì…˜ | "3ì¤„ ìš”ì•½" í¬í•¨ ì—¬ë¶€ |
| ë¶ˆì™„ì „ íŒ¨í„´ | `...`, `--` ë“± ê°ì§€, `###` 2ê°œ ë¯¸ë§Œ |

---

### 2.8 parser.py
**ì—­í• **: ì¹´ì¹´ì˜¤í†¡ í…ìŠ¤íŠ¸ íŒŒì¼ íŒŒì‹±

**í´ë˜ìŠ¤**: `KakaoLogParser`

**ì§€ì› í˜•ì‹**:
```
# PC/Mac: --------------- 2024ë…„ 1ì›” 24ì¼ ---------------
# ëª¨ë°”ì¼: 2024ë…„ 1ì›” 24ì¼ ìˆ˜ìš”ì¼
# ì‹¬í”Œ: 2024. 1. 24.
```

---

### 2.9 chat_processor.py
**ì—­í• **: ì±„íŒ… í…ìŠ¤íŠ¸ ì²˜ë¦¬ ë° í¬ë§·íŒ…

**í´ë˜ìŠ¤**: `ChatProcessor(provider)`

| ë©”ì„œë“œ | ì„¤ëª… |
|--------|------|
| `process_summary(text)` | LLMìœ¼ë¡œ ìš”ì•½ í›„ ë³¸ë¬¸ë§Œ ë°˜í™˜ (í—¤ë”/í‘¸í„°ëŠ” `file_storage`ì—ì„œ ì¶”ê°€) |
| `_format_as_markdown(content)` | ë§ˆí¬ë‹¤ìš´ í¬ë§·íŒ… (v2.2.3ì—ì„œ í—¤ë”/í‘¸í„° ì œê±°, content.strip()ë§Œ ë°˜í™˜) |

---

### 2.10 import_to_db.py
**ì—­í• **: CLI ê¸°ë°˜ ëŒ€ëŸ‰ DB import ìœ í‹¸

**í´ë˜ìŠ¤**:
| í´ë˜ìŠ¤ | ì„¤ëª… |
|--------|------|
| `MessageParser` | ë©”ì‹œì§€ ë¼ì¸ íŒŒì‹± (ë‹‰ë„¤ì„, ì‹œê°„, ë‚´ìš© ì¶”ì¶œ) |
| `DataImporter` | íŒŒì¼/ë””ë ‰í„°ë¦¬ ì¼ê´„ import, í†µê³„ í‘œì‹œ |

```bash
python src/import_to_db.py <íŒŒì¼ ë˜ëŠ” ë””ë ‰í„°ë¦¬> [--stats] [--daily]
```

---

### 2.11 url_extractor.py
**ì—­í• **: URL ì¶”ì¶œ, ì •ê·œí™” ë° ì €ì¥

| í•¨ìˆ˜ | ì„¤ëª… |
|------|------|
| `extract_urls_from_text(text)` | í…ìŠ¤íŠ¸ì—ì„œ URL ì¶”ì¶œ |
| `extract_url_with_description(line)` | ë‹¨ì¼ ë¼ì¸ì—ì„œ URL+ì„¤ëª… ì¶”ì¶œ |
| `normalize_url(url)` | URL ì •ê·œí™” (íŠ¹ìˆ˜ë¬¸ì, fragment ì œê±°) |
| `deduplicate_urls(urls_dict)` | URL ì¤‘ë³µ ì œê±° ë° ì„¤ëª… ë³‘í•© |
| `save_urls_to_file(dict, path)` | URL ëª©ë¡ íŒŒì¼ ì €ì¥ |

---

## 3. ë°ì´í„° íë¦„

### 3.1 íŒŒì¼ ì—…ë¡œë“œ íë¦„
```
[íŒŒì¼ ì„ íƒ] â†’ [FileUploadWorker]
       â”‚
       â–¼
[KakaoLogParser] â†’ ë‚ ì§œë³„ ë©”ì‹œì§€ ê·¸ë£¹í™”
       â”‚
       â–¼
[Database.add_messages] â†’ SQLite ì €ì¥ (ì¤‘ë³µ ì²´í¬)
       â”‚
       â–¼
[FileStorage.save_daily_original] â†’ Markdown íŒŒì¼ ì €ì¥
       â”‚
       â–¼
[ê¸°ì¡´ ìš”ì•½ ë¬´íš¨í™”] â†’ ë©”ì‹œì§€ ì¦ê°€ ì‹œ ìš”ì•½ ì‚­ì œ
```

### 3.2 ìš”ì•½ ìƒì„± íë¦„
```
[ìš”ì•½ ì˜µì…˜ ì„ íƒ] â†’ [SummaryGeneratorWorker]
       â”‚
       â–¼
[FileStorage.get_dates_needing_summary] â†’ ìš”ì•½ í•„ìš” ë‚ ì§œ í™•ì¸
       â”‚
       â–¼
[FileStorage.load_daily_original] â†’ ì›ë³¸ ëŒ€í™” ë¡œë“œ
       â”‚
       â–¼
[LLMClient.summarize] â†’ LLM API í˜¸ì¶œ
       â”‚
       â–¼
[ì‘ë‹µ ì™„ê²°ì„± ê²€ì¦] â†’ ë¶ˆì™„ì „ ì‘ë‹µ ê±°ë¶€
       â”‚
       â–¼
[FileStorage.save_daily_summary] â†’ Markdown íŒŒì¼ ì €ì¥
       â”‚
       â–¼
[Database.add_summary] â†’ SQLite ì €ì¥
```

### 3.3 CLI ìŠ¤í¬ë¦½íŠ¸ íë¦„ (src/manual/)
```
[CLI ì¸ì] â†’ íŒŒì¼/ë””ë ‰í„°ë¦¬ ì§€ì •
       â”‚
       â–¼
[KakaoLogParser] â†’ ë‚ ì§œë³„ ë©”ì‹œì§€ ê·¸ë£¹í™”
       â”‚
       â–¼
[ChatProcessor.process_summary]  (Full) ë˜ëŠ”  [SimpleLLMClient] (Simple)
       â”‚
       â–¼
[output/ ë””ë ‰í„°ë¦¬ì— ì§ì ‘ íŒŒì¼ ì €ì¥]  (DB/FileStorage ë¯¸ì‚¬ìš©)
```

> **ì°¸ê³ **: Full ìŠ¤í¬ë¦½íŠ¸ëŠ” src/ ëª¨ë“ˆ(`parser`, `full_config`, `chat_processor`, `url_extractor`)ì„ ì¬ì‚¬ìš©í•˜ê³ , Simple ìŠ¤í¬ë¦½íŠ¸ëŠ” ìì²´ ë‚´ì¥ êµ¬í˜„(`SimpleConfig`, `SimpleParser`, `SimpleLLMClient`)ìœ¼ë¡œ ì™¸ë¶€ ì˜ì¡´ ì—†ì´ ë‹¨ë… ì‹¤í–‰ë©ë‹ˆë‹¤.

---

## 4. ì—ëŸ¬ ì²˜ë¦¬

| ì—ëŸ¬ ìœ í˜• | ì²˜ë¦¬ ë°©ì‹ |
|-----------|-----------|
| íŒŒì¼ ì—†ìŒ | ê²½ê³  ë‹¤ì´ì–¼ë¡œê·¸ |
| API í‚¤ ì—†ìŒ | ì„¤ì • ì•ˆë‚´ ë©”ì‹œì§€ |
| API íƒ€ì„ì•„ì›ƒ | ë¡œê·¸ ê¸°ë¡, ë‹¤ìŒ ë‚ ì§œ ì§„í–‰ |
| ë¶ˆì™„ì „ LLM ì‘ë‹µ | ì €ì¥ ê±°ë¶€, ê²½ê³  ë©”ì‹œì§€ |
| DB ì†ìƒ | ë³µêµ¬ ê¸°ëŠ¥ ì œê³µ |

---

## 5. ë¡œê¹… ì‹œìŠ¤í…œ

**ë¡œê·¸ íŒŒì¼**: `logs/summarizer_YYYYMMDD.log`

| ë ˆë²¨ | ì¶œë ¥ ëŒ€ìƒ | ìš©ë„ |
|------|-----------|------|
| DEBUG | íŒŒì¼ë§Œ | API ìš”ì²­/ì‘ë‹µ ìƒì„¸ ì •ë³´ |
| INFO | íŒŒì¼ë§Œ | ì²˜ë¦¬ ì§„í–‰ ìƒí™© |
| WARNING | íŒŒì¼ + ì½˜ì†” | ê²½ê³  ë©”ì‹œì§€ |
| ERROR | íŒŒì¼ + ì½˜ì†” | ì—ëŸ¬ ìƒì„¸ |
